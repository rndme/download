(function(a,b){if(typeof define==="function"&&define.amd){define([],b)}else{if(typeof exports==="object"){module.exports=b()}else{a.download=b()}}}(this,function(){return function a(t,e,o,c,v){var n=window,k="application/octet-stream",r=o||k,j=t,l=document,s=c||l.createElement("a"),h=function(m){return String(m)},p=(n.Blob||n.MozBlob||n.WebKitBlob||h);p=p.call?p.bind(n):Blob;var g=e||"download",b,f;if(String(this)==="true"){j=[j,r];r=j[0];j=j[1]}if(String(j).match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/)){return navigator.msSaveBlob?navigator.msSaveBlob(d(j),g):q(j)}b=j instanceof p?j:new p([j],{type:r});function d(m){var A=m.split(/[:;,]/),y=A[1],C=A[2]=="base64"?atob:decodeURIComponent,x=C(A.pop()),B=x.length,w=0,z=new Uint8Array(B);for(w;w<B;++w){z[w]=x.charCodeAt(w)}return new p([z],{type:y})}function q(m,w){if("download" in s){s.href=m;s.setAttribute("download",g);s.innerHTML="downloading...";if(!c){l.body.appendChild(s)}setTimeout(function(){s.click();if(!c){l.body.removeChild(s)}if(w===true){setTimeout(function(){n.URL.revokeObjectURL(s.href)},250)}},66);return true}if(typeof safari!=="undefined"){m="data:"+m.replace(/^data:([\w\/\-\+]+)/,k);if(!window.open(m)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=m}}return true}var u=v||l.createElement("iframe");if(!v){l.body.appendChild(u)}if(!w){m="data:"+m.replace(/^data:([\w\/\-\+]+)/,k)}u.src=m;if(!v){setTimeout(function(){l.body.removeChild(u)},333)}}if(navigator.msSaveBlob){return navigator.msSaveBlob(b,g)}if(n.URL){q(n.URL.createObjectURL(b),true)}else{if(typeof b==="string"||b.constructor===h){try{return q("data:"+r+";base64,"+n.btoa(b))}catch(i){return q("data:"+r+","+encodeURIComponent(b))}}f=new FileReader();f.onload=function(m){q(this.result)};f.readAsDataURL(b)}return true}}));