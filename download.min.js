//download.js v3.1, by dandavis; 2008-2014. [CCBY2] see http://danml.com/download.html for tests/usage
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){return function(e,t,n){function o(e){var t=e.split(/[:;,]/),n=t[1],o="base64"==t[2]?atob:decodeURIComponent,a=o(t.pop()),r=a.length,i=0,d=new Uint8Array(r);for(i;r>i;++i)d[i]=a.charCodeAt(i);return new s([d],{type:n})}function a(e,t){if("download"in u)return u.href=e,u.setAttribute("download",m),u.innerHTML="downloading...",l.body.appendChild(u),setTimeout(function(){u.click(),l.body.removeChild(u),t===!0&&setTimeout(function(){r.URL.revokeObjectURL(u.href)},250)},66),!0;if("undefined"!=typeof safari)return e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=l.createElement("iframe");l.body.appendChild(n),t||(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i)),n.src=e,setTimeout(function(){l.body.removeChild(n)},333)}var r=window,i="application/octet-stream",d=n||i,c=e,l=document,u=l.createElement("a"),f=function(e){return e+""},s=r.Blob||r.MozBlob||r.WebKitBlob||f;s=s.call?s.bind(r):Blob;var p,b,m=t||"download";if(this+""=="true"&&(c=[c,d],d=c[0],c=c[1]),(c+"").match(/^data\:[\w+\-]+\/[\w+\-]+[,;]/))return navigator.msSaveBlob?navigator.msSaveBlob(o(c),m):a(c);if(p=c instanceof s?c:new s([c],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(p,m);if(r.URL)a(r.URL.createObjectURL(p),!0);else{if("string"==typeof p||p.constructor===f)try{return a("data:"+d+";base64,"+r.btoa(p))}catch(w){return a("data:"+d+","+encodeURIComponent(p))}b=new FileReader,b.onload=function(){a(this.result)},b.readAsDataURL(p)}return!0}});
